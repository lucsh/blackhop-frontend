<div ng-controller="proveedoresCtrl">
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>Proveedores</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="index.html">Escritorio</a>
                </li>
                <li class="active">
                    <strong>Proveedores</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">
            <h2><button ng-click="modal.abrir()" class="btn btn-primary " type="button"><i class="fa fa-plus"></i>&nbsp;Agregar</button></h2>
        </div>
    </div>
    <div class="wrapper wrapper-content  animated fadeInRight">
        <div class="row">

            <div class="col-sm-8">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <table datatable="ng" dt-options="dtOptions"  dt-column-defs="dtColumnDefs" class="table table-striped table-bordered table-hover dataTables-example">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Direccion</th>
                                    <th>Contacto</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="proveedor in proveedores" ng-click='getProveedorDerecha(proveedor.id)'>
                                    <td>{{ proveedor.id}}</td>                            
                                    <td>{{ proveedor.nombre }}</td>                            
                                    <td>{{ proveedor.direccion }}</td>
                                    <td><i class="fa fa-user"></i> {{ proveedor.contacto }}</td>
                                    <td>
                                    <span ng-if="proveedor.telefonoContacto"><i class="fa fa-mobile"></i> {{proveedor.telefonoContacto}}</span>
                                    <span ng-if="!proveedor.telefonoContacto"><i class="fa fa-phone"></i>{{proveedor.telefono}}</span></td>  
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="ibox ">
                    <div class="ibox-content" ng-init="isHover='tresde-right-hidden'" ng-mouseover="isHover='tresde-right-left';" ng-mouseleave="isHover='tresde-right-hidden'">
                        <div class="tab-content">
                            <div  class="tab-pane active">
                                <div class="row m-b-lg">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 text-center">
                                        <h2> <span editable-text="proveedorDer.nombre">{{ proveedorDer.nombre || "vacio" }}</span></h2>

                                    </div>
                                    <div class="tresde-right-container"><button class="{{isHover}} btn btn-danger btn-circle btn-lg" type="button" ng-click='onDelete(proveedorDer.id)'><i class="fa fa-trash-o"></i></div>
                                    <div class="col-lg-12">
                                        <p><strong><i class="fa fa-building"></i> Direcci√≥n:</strong> <span editable-text="proveedorDer.direccion">{{ proveedorDer.direccion || "vacio" }}</span></p>
                                        <p><strong><i class="fa fa-phone"></i> Telefono:</strong> <span editable-text="proveedorDer.telefono">{{ proveedorDer.telefono || "vacio" }}</span></p>
                                        <p><strong><i class="fa fa-envelope"></i> Email:</strong> <span editable-text="proveedorDer.email">{{ proveedorDer.email || "vacio" }}</span></p>
                                        <p><strong><i class="fa fa-money"></i> Metodo de Pago:</strong> <span editable-text="proveedorDer.metodoPago">{{ proveedorDer.metodoPago || "vacio" }}</span></p>
                                        <p><strong><i class="fa fa-calculator"></i> CUIT:</strong> <span editable-text="proveedorDer.cuit">{{ proveedorDer.cuit || "vacio" }}</span></p>                            <p><strong><i class="fa fa-user"></i> Contacto:</strong> <span editable-text="proveedorDer.contacto">{{ proveedorDer.contacto || "vacio" }}</span></p>
                                        <p><strong><i class="fa fa-mobile"></i> Telefono Contacto:</strong> <span editable-text="proveedorDer.telefonoContacto">{{ proveedorDer.telefonoContacto || "vacio" }}</span></p>                                    
                                    </div>
                                    </div>
                                    <button class="btn btn-primary btn-sm" type="button" ng-click='onUpdate(proveedorDer.id)'><i class="fa fa-floppy-o"></i> Guardar</button>
                                    </br>
                                    </br>
                                    <div class="client-detail">
                                        <div >
                                            <strong>Ultima Actividad</strong>
                                            <div ng-if="actividadDer.length > 0">
                                                <ul class="list-group clear-list" ng-repeat='act in actividadDer'>
                                                    <li class="list-group-item fist-item">
                                                        <span class="pull-right"> {{act.fecha}} </span>
                                                        {{act.producto}}
                                                    </li>

                                                </ul>
                                            </div>
                                            <div ng-if="actividadDer.length == 0">
                                                <ul class="list-group clear-list">
                                                    <li class="list-group-item fist-item">
                                                        <span class="pull-right"> </span>
                                                        Sin Actividad
                                                    </li>

                                                </ul>
                                            </div>

                                            <hr/>
                                        </div>
                                    </div>
                                </div>
                            </div>                   
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>