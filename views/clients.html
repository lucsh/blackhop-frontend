<div ng-controller="clientesCtrl">
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>Clientes</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="index.html">Escritorio</a>
                </li>
                <li class="active">
                    <strong>Clientes</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">
            <h2><button ng-click="modal.abrir()" class="btn btn-primary " type="button"><i class="fa fa-plus"></i>&nbsp;Agregar</button></h2>
        </div>
    </div>
    <div  class="wrapper wrapper-content  animated fadeInRight">
        <div class="row">
            <div class="col-sm-8">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <table datatable="ng" dt-options="dtOptions"  dt-column-defs="dtColumnDefs" class="table table-striped table-bordered table-hover dataTables-example">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Direccion</th>                            
                                    <th>Contacto</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cursor-pointer" ng-repeat="cliente in clientes" ng-click='getClienteDerecha(cliente.id)'>
                                    <td>{{ cliente.id}}</td>                            
                                    <td>{{ cliente.nombre }} {{ cliente.apellido }}</td>                            
                                    <td><i class="fa fa-home"></i> {{ cliente.direccion }}</td>
                                    <td><i class="fa fa-phone"></i> <span ng-if="cliente.celular">{{cliente.celular}}</span><span ng-if="!cliente.celular">{{cliente.telefono}}</span></td>                            
                                    <td><span class="badge {{ cliente.class }}">{{ cliente.estado }}</span></td>                            
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <div class="col-sm-4"  >
                <div class="ibox ">
                    <div class="ibox-content" ng-init="isHover='tresde-right-hidden'" ng-mouseover="isHover='tresde-right-left';" ng-mouseleave="isHover='tresde-right-hidden'">
                        <div class="tab-content">
                            <div id="contact" class="tab-pane active">
                                <div class="row m-b-lg">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 text-center">
                                        <h2> <span editable-text="clienteDer.nombre">{{ clienteDer.nombre || "empty" }}</span> <span editable-text="clienteDer.apellido">{{ clienteDer.apellido || "empty" }}</span></h2>
                                    </div>
                                    <div class="tresde-right-container"><button class="{{isHover}} btn btn-danger btn-circle btn-lg" type="button" ng-click='onDelete(clienteDer.id)'><i class="fa fa-trash-o"></i></div>
                                        <div class="col-lg-12">
                                            <p><strong><i class="fa fa-phone"></i> Telefono:</strong> <span editable-text="clienteDer.telefono">{{ clienteDer.telefono || "empty" }}</span></p>
                                            <p><strong><i class="fa fa-mobile"></i> Celular:</strong> <span editable-text="clienteDer.celular">{{ clienteDer.celular || "empty" }}</span></p>
                                            <p><strong><i class="fa fa-envelope"></i> email:</strong> <span editable-text="clienteDer.email">{{ clienteDer.email || "empty" }}</span></p>
                                            <p><strong><i class="fa fa-home"></i> Direccion:</strong> <span editable-text="clienteDer.direccion">{{ clienteDer.direccion || "empty" }}</span></p>
                                            <p><strong><i class="fa fa-birthday-cake"></i> Cumplea√±os:</strong> <span editable-text="clienteDer.fechaNacimiento">{{ clienteDer.fechaNacimiento || "empty" }}</span></p>                          <p><strong><i class="fa fa-book"></i> DNI:</strong> <span editable-text="clienteDer.dni">{{ clienteDer.dni || "empty" }}</span></p>                                    
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-sm" type="button" ng-click='onUpdate(clienteDer.id)'><i class="fa fa-floppy-o"></i> Guardar</button>
                                    </br>
                                    </br>
                                    <div class="client-detail">
                                        <div >
                                            <strong>Ultima Actividad</strong>
                                            <div ng-if="actividadDer.length > 0">
                                                <ul class="list-group clear-list" ng-repeat='act in actividadDer'>
                                                    <li class="list-group-item fist-item">
                                                        <span class="pull-right"> {{act.fecha}} </span>
                                                        {{act.producto}}
                                                    </li>
                                                   
                                                </ul>
                                            </div>
                                            <div ng-if="actividadDer.length == 0">
                                                <ul class="list-group clear-list">
                                                    <li class="list-group-item fist-item">
                                                        <span class="pull-right"> </span>
                                                        Sin Actividad
                                                    </li>
                                                   
                                                </ul>
                                            </div>
                                                
                                            <hr/>
                                        </div>
                                    </div>
                                
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>